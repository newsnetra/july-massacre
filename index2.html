<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- SEO -->
    <meta name="description" content="A sample webpage demonstrating proper HTML structure with meta tags and CSS." />
    <meta name="keywords" content="HTML, CSS, boilerplate, sample, webpage" />
    <meta name="author" content="Your Name" />

    <!-- Social Media (Open Graph) -->
    <meta property="og:title" content="Sample HTML Page" />
    <meta property="og:description" content="A well-structured HTML template." />
    <meta property="og:image" content="https://example.com/og-image.jpg" />
    <meta property="og:url" content="https://example.com/" />
    <meta property="og:type" content="website" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Sample HTML Page" />
    <meta name="twitter:description" content="A well-structured HTML template." />
    <meta name="twitter:image" content="https://example.com/og-image.jpg" />

    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon" />

    <!-- Stylesheet -->
    <link rel="stylesheet" href="/assets/index2.css" />
    <link rel="stylesheet" href="https://use.typekit.net/blr3ccp.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


    <title>Sample HTML Page</title>
</head>

<body>

    <header>

        <div class="hero">
            <div class="images">
                <img src="/assets/photos/2.webp" class="img img1"> <!-- Rickshaw -->
                <img src="/assets/photos/3.webp" class="img img2"> <!-- Helicopter -->
                <img src="/assets/photos/main.webp" class="img img3"> <!-- Hasina stencil -->
                <img src="/assets/photos/1.webp" class="img img4"> <!-- Soldier -->
                <img src="/assets/photos/6.webp" class="img img5"> <!-- Shooter -->
                <img src="/assets/photos/5.webp" class="img img6"> <!-- X-ray -->
                <img src="/assets/photos/4.webp" class="img img7">
            </div>

        </div>

        <h1 class="headline">
            <span class="line1">DRAWING</span><br>
            <span class="line2">RED JULY’S LINES</span>
        </h1>
        </div>
    </header>

    <main>
        <section class="blurb">
            <p>The interim government released a martyrs’ list in December last year listing 834 victims, but not
                without discrepancies. Netra News reached out to the 834 families to tally details of the victims and
                map out the pattern of the three-week long massacre starting on July 16th, 2024 under the Sheikh
                Hasina-led Awami League ruling government.</p>
        </section>

        <div class="author">
            <span class="author-name">Aaqib Md Shatil</span>
            <span class="author-date">— June 13, 2026</span>
        </div>

        <article>
            <div class="article-text">

                    <p>Two burkha-clad women were frantically running through the fish market behind East West
                        University. “A man told us to take this route to get to Farazy hospital [in Rampura from Merul
                        Badda] because there’s heavy gunfire, the Rampura bridge is inaccessible,” says Selina Begum,
                        Selim Talukdar’s mother.</p>
                    <p>On July 18th, 2024, around the time of Zuhr Azan, Selina sprinted out of her home with her
                        daughter. She had just received a call from her son’s phone. “‘He has been shot,’ a stranger
                        informed me,” recalls Selina. Protesters, the police, armed Awami League cadres and violence
                        swarmed the streets.</p>
                    <p>By the time Selina reached the hospital, Selim’s body had already left. “The doctor there said
                        he’s in critical condition. They sent him to a government hospital,” she says.</p>
                    <p>Mugda, it must be, Selina deduced. “My daughter was first taken in to see my son. She was asked
                        if she’s strong,” says Selina.</p>
                    <p>Emotional restraint was a critical need, it seems. In a few moments, Selina was asked to show it.
                        Selina braced for impact, but nothing could have really prepared her.</p>
                    <p>Selim’s body was twitching, but he was unconscious. The spasms were involuntary, perhaps like a
                        fish out of water. Selim incurred 75 pellet wounds across his upper torso, including his head.
                    </p>
                    <p>After 12 days at the ICU at a private hospital in the capital, where Selina had to sign a
                        statement declaring that Selim was not taking part in the student protests, her only son died.
                    </p>
                    <p>Md Selim Talukder, who was shot multiple times by the police at close range, is among the scores
                        of victims of a three-week-long massacre in Bangladesh perpetrated by the then-ruling
                        government, the Awami League.</p>
                    <p>What started as a student protest demanding reforms to the quota-based government job recruitment
                        system turned into a bloody anti-government movement after the then-prime minister Sheikh Hasina
                        failed to quell the protests with unlawful use of force, violence and intimidation tactics.</p>
                    <p>Hasina fled to India on August 5th, 2024. An interim government succeeded her government.</p>


                        
                <h2>Shoot first, aim later</h2>
                <p>Our analysis — verified by accounts from victims’ families and news reports — suggests that half of
                    the victims out of 705 did not actively participate in the protests. They were pedestrians,
                    onlookers, or they joined the victory march after learning of Hasina’s ousting, unaware of any
                    imminent attacks. Some of them were shot while returning home, some went out to buy food, some were
                    going to work, and some were even shot while on rooftops, balconies or inside their homes.</p>
                <p>It appears that the security forces and Awami League cadres did not spend much time discerning
                    between the protesters and pedestrians or onlookers.</p>
                <p>Human Rights Watch concluded in their report that the indiscriminate attacks on bystanders “appeared
                    to be part of a broader pattern.” According to the <a
                        href="https://www.hrw.org/report/2025/01/27/after-monsoon-revolution/roadmap-lasting-security-sector-reform-bangladesh">report</a>,
                    police shot at onlookers observing the scene from their homes, aiming to instil fear and convey a
                    message that people should not watch what was happening around them.</p>
                <p>Our findings indicate that 96.56% of the deaths caused by security forces or members of the Awami
                    League, or by both groups, were due to gunshots.</p>

</div>



<div class="chart-wrapper">
  <h2 class="chart-title">Timeline of Violence: Daily Death Toll Analysis</h2>
  <p class="chart-subtitle">Documenting the escalation and phases of violence from July 16th to August 5th, 2024</p>
  <canvas id="deathTollChart"></canvas>
</div>

<div class="stats-container">
  <div class="stat-box">
    <div class="stat-number">907</div>
    <div class="stat-label">Total Deaths</div>
  </div>
  <div class="stat-box">
    <div class="stat-number">268</div>
    <div class="stat-label">Deadliest Day<br><span>August 5</span></div>
  </div>
  <div class="stat-box">
    <div class="stat-number">21</div>
    <div class="stat-label">Days of Violence</div>
  </div>
</div>


                    
                  <div class="article-text"> 
                <p>All victims who died from fatal wounds during the curfew days — from July 20th to July 22nd — were
                    shot, according to their families and news reports. This indicates that the forces enforcing the
                    curfew openly used firearms. The pattern continued on the final days of the regime, on August 4th
                    and August 5th.</p>
                <p>Only a handful of victims died after being beaten or stabbed by Awami League-linked armed cadres. Two
                    victims died after an executive magistrate’s car rammed them in Sherpur, and two others were drowned
                    in Madaripur and Sylhet. The rest were gunned down.</p>
                <p>At least 272 victims actively joined the protests, according to their families and news reports. Most
                    of them were young. Generation Z (individuals born between 1997 and 2012) not only led the movement
                    but also paid the ultimate price in droves. Our analysis shows 61.31% of the victims were from
                    Generation Z, followed by millennials (29.16%).</p>
                <p>The youngest victim of the massacre was a four-year-old, and the oldest was in his seventies.</p>
               
                </div>

                


                <div class="table-container">
 <div class="filters">
  <label>District:
    <select id="filter-district">
      <option value="">All</option>
    </select>
  </label>

  <label>Perpetrator:
    <select id="filter-perpetrator">
      <option value="">All</option>
    </select>
  </label>

  <label>Region:
    <select id="filter-region">
      <option value="">All</option>
    </select>
  </label>

  

<div class="search">
  <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#aaa" viewBox="0 0 24 24">
    <path d="M21.53 20.47l-4.79-4.8A7.92 7.92 0 0018 10a8 8 0 10-8 8 7.92 7.92 0 005.67-2.26l4.8 4.79a.75.75 0 001.06-1.06zM4 10a6 6 0 1112 0 6 6 0 01-12 0z"/>
  </svg>
  <input type="text" id="search" placeholder="Search">
</div>

</div>


  <table>
    <thead>
      <tr>
        <th>Medical ID ↑</th>
        <th>Victim’s Name</th>
        <th>Region</th>
        <th>Alleged Perpetrator</th>
      </tr>
    </thead>
    <tbody id="victim-table-body">
      <!-- Rows will be dynamically injected here -->
    </tbody>
  </table>

  <div class="pagination">
    &lt; <span>1</span> <span>2</span> <span>3</span> … <span>11</span> <span>12</span> &gt;
  </div>
</div>

<div class="article-text">

                <h2>Killing fields</h2>
                <p>Taim and his two friends were inside a shuttered tea stall at Jatrabari. Around 12:30 pm — during a
                    brief recess in a nationwide curfew — the police dragged out Rahat, Taim’s friend and beat him
                    indiscriminately.</p>
                <p>Taim was dragged out, too, but he met a worse fate.</p>
                <p>“Run!” the police ordered. Taim and his friends listened. But, within a few moments, he fell. The
                    police shot Taim from the back.</p>
                <p>Rahat bends over to drag Taim’s body, but the rubber bullets continue to rain. The video clip, which
                    eventually went viral on social media from the July-August uprising, captured Taim’s limp body and
                    Rahat’s struggle to move the body away from the police.</p>
                <p>It was then that Zakir Hossain, an official attached to Jatrabari Police Station, approached with his
                    shotgun, targeting Taim’s chest and shot him.</p>
                <p>Rahat, who became Zakir’s next aim and also injured, then ran. Taim’s body was left a few yards away
                    from the police.</p>
                <p>Imam Hasan Taim died within the hour on July 20th, 2024, at Jatrabari.</p>
                <p>In Dhaka, the highest number of victims died after being fatally injured in Wari, an administrative
                    division of Dhaka Metropolitan Police, followed by Uttara, Mirpur and Gulshan divisions. Wari
                    comprises the Jatrabari and Kadamtali police stations. The officials of these stations are accused
                    of killing at least 107 victims.</p>
                <p>As the July massacre unfolded, Dhaka, the capital of Bangladesh, saw the highest number of deaths, at
                    least 479, followed by other killing fields in Gazipur, Narayanganj and Narsingdi.</p>
                
                    
                <p>The violence was particularly indiscriminate on July 19th, 20th, and August 5th.</p>
                <p>According to our analysis, at least 325 victims died in the third week of July as the security forces
                    and the Awami League cracked down on the protesters. The attacks were intensified on July 18th, when
                    53 people suffered deadly injuries, and on the following day, the number rose by threefold.</p>
                <p>On the evening of July 19th, following around a hundred deaths and at least a dozen severely injured
                    protesters, the Hasina regime imposed a curfew with “shoot-at-sight” orders starting at midnight on
                    July 20th. The number of fatal injuries from bullet wounds significantly declined in the following
                    days; however, they surged again on August 4th when the armed cadres of the Awami League became
                    particularly active following a directive from the party to its members to “gather” in every ward,
                    district, and city.</p>
                
                    
                <p>Numerous photographs and videos from that day captured Awami League members parading in the streets
                    armed with military-grade weapons, sharp machetes, and blunt objects. Notably, half of the victims
                    who suffered fatal injuries leading to their deaths were harmed by these Awami League members or
                    armed cadres backed by the party, allegedly killing 86.</p>
                <p>On August 5th, at least 268 people suffered fatal injuries; some died on that day, and others
                    succumbed to their injuries in the following months.</p>
                <h2>July 18: ‘The Core Committee’</h2>
                <p>All of the country’s chiefs of security forces and intelligence agencies comprised this ‘core’
                    committee, according to the UN’s human rights office’s report on the massacre, published in February
                    2025. It was headed by the then Home Minister, Asaduzzaman Khan Kamal.</p>
                <p>The committee met on July 18th for the first time and decided to engage the paramilitary force BGB,
                    which carries military-grade weapons used in wars. The high death toll in Wari and Narayanganj,
                    among other zones and districts, is linked to a strategic decision made by the then Awami League
                    government.</p>
                <p>Kamal ordered the security forces to clear the thousands of protesters who were blocking the
                    Dhaka-Chattogram highway (N1), the country’s economic lifeline, according to the OHCHR report.
                    Wari’s Jatrabari area is the gateway to the Dhaka-Chattogram highway, which passes through
                    Narayanganj’s Chittagong Road.</p>
                <p>Police and security forces became increasingly desperate to remove the protesters from the two areas
                    that sit on the highway. From July 19th to July 22nd, at least 72 individuals suffered fatal
                    injuries in these areas.</p>
                <p>According to our analysis, all but one of the victims who were shot in Narayanganj were shot in areas
                    adjacent to the highway. However, the actual numbers may be higher.</p>
                
                    
                <p>Netra News obtained photographs of senior police officials visiting Jatrabari on July 22nd after the
                    ‘successful’ clearing operation. At least three of these officials — IGP Chowdhury Abdullah
                    Al-Mamun, RAB DG Harun Ar Rashid, and Special Branch Chief Monirul Islam — joined the Core Committee
                    meeting with the then Home Minister Asaduzzaman Khan Kamal on July 18th.</p>
                <p>The following is the list of individuals who made up this committee: Former chief of police Chowdhury
                    Abdullah Al-Mamun; the BGB Director General, Major General A. K. M. Nazmul Hasan; the head of the
                    RAB, Harun-Ar-Rashid (under United States sanctions); Major General A. K. M. Aminul Haque, Director
                    General of Ansar and the Village Defence Party; the head of the DGFI, Major General Hamidul Haque;
                    the chief of the National Security Intelligence (NSI), Major General Hossain Al Morshed; Monirul
                    Islam, chief of the police’s Special Branch; and Ziaul Ahsan, the head of the NTMC.</p>
                <p>The UN report also claims that a general from the Bangladesh Army joined the committee from July
                    20th, shortly after the imposition of a nationwide curfew.</p>
                    
                    <!-- <img
                    alt="three people sitting in a tea stall" class="hero-image"
                    src="bangladesh-army.webp"> -->


                <h2>July 19: Enter BNP and Jamaat activists</h2>
                <p>In the state-sponsored massacre, 12.22% of the victims were members or activists of the BNP,
                    according to their families and news reports, while 2.13% were from Jamaat. However, both parties
                    claim higher figures.</p>
                <p>Netra News asked the family members of the victims and reviewed the news reports to ascertain whether
                    the victims were involved with any political party. Our findings indicate that 88 victims were
                    leaders or activists of the BNP or its affiliated organisations, while 15 victims were associated
                    with Jamaat or its affiliated groups.</p>
                <p>However, it is likely that many family members of the victims may not be aware of their political
                    affiliations, as they lived far away from them; hence, the number is not accurate and might not
                    capture the full extent of the parties’ loss during the protests.</p>
                <div>
                   
                    
                <p>Even so, it provides a crucial pattern.</p>
                <p>Our analysis shows that, though a member of BNP’s student wing, Chhatra Dal, died on July 16th, the
                    party started losing its activists in large numbers from July 19th. It lost 25 of its activists and
                    leaders on the streets on that day, with two deaths on July 20th and three on July 21st, suggesting
                    that the party got involved with the movement on July 19th.</p>
                <p>BNP was heavily active on August 4th, and almost one-fifth of the victims of the day were party
                    leaders or activists. On the following day, the party lost 34 of its men.</p>
                <p>Jamaat lost three activists on July 19th, the highest in July, and ten on August 5th. At least one
                    member of Gana Sanghati Andolan, Gono Odhikar Parishad and Islami Andolan Bangladesh died, too,
                    during the protests.</p>
                <p>However, not everyone on the martyrs’ list belonging to these parties was active in the protest. Some
                    of them died while crossing the road or returning from work, according to our analysis based on
                    testimonies of family members and news reports.</p>
                <h2>Who were the perpetrators</h2>
                <p>Most of the victims died allegedly at the hands of the police, followed by the armed cadres of the
                    Awami League.</p>
                <p>Our tally — verified by victims’ families, witnesses and news reports — indicates that police
                    inflicted deadly injuries on at least 467 victims. The police were most brutal on July 19th and
                    August 5th. In 61 cases, police worked with the BGB to shoot at the protesters, and given the
                    complex nature of the situation, it has been extremely difficult for the witnesses and journalists
                    to ascertain whose shots took the lives of the victims.</p>
                
                    
                <p>It is also likely that the witnesses might have used police interchangeably to describe the members
                    of the security forces in some cases.</p>
                <p>According to our analysis, at least 43 victims died as a result of coordinated attacks by the Awami
                    League and the police, and 27 more died at the hands of the BGB. In two instances, witnesses
                    reported that the army shot the victims. On August 4th, during a protest in Sherpur, a government
                    official's car struck and killed at least two protesters.</p>
                
                    <!-- <div class="images">
                    <div class="perpetrator-image"><img alt="Police"
                            src="police.webp"><span>467</span><span>POLICE</span></div>
                    <div class="perpetrator-image"><img alt="Awami League"
                            src="Awami League.webp"><span>86</span><span>AWAMI LEAGUE</span></div>
                    <div class="perpetrator-image"><img alt="Border Guard Bangladesh"
                            src="police-al.webp"><span>63</span><span>POLICE-BGB</span></div>
                    <div class="perpetrator-image"><img alt="Bangladesh Army"
                            src="bgb.webp "><span>43</span><span>POLICE-AL</span></div>
                    <div class="perpetrator-image"><img alt="Government Officials"
                            src="police bgb.webp"><span>27</span><span>BGB</span></div>
                    <div class="perpetrator-image"><img alt="Others"
                            src="others.webp"><span>19</span><span>OTHERS</span></div>
                </div> -->

                <h2>Methodology and notes of discrepancies</h2>
                <p>To comply with the official definition of martyrs, according to the “July Mass Uprising Martyrs’
                    Families and Injured Students-Citizens Welfare and Rehabilitation Ordinance, 2025”, issued on June
                    17th, 2025, in this analysis, we have considered only the victims who lost their lives in
                    state-backed excesses by security forces and Awami League men. However, the list released by the
                    government does not fully comply with its own ‘martyr’ criteria.</p>
                <p>Netra News collected the list of victims from the gazette that mentioned 834 names, and reached out
                    to the families to collect the location where the victims were injured, the cause of their deaths,
                    the alleged perpetrators, their age and political affiliation. We verified the information from at
                    least two news articles published in national and, in some cases, local newspapers.</p>
                <p>Of 834 victims’ families, 666 responded to our call. The remaining families either did not respond to
                    our call, despite repeated attempts, or their numbers were found to be switched off. Five families
                    of victims responded to our call but refused to share any information.</p>
                <p>After collecting the information from the families, we looked for the victims’ names in the
                    newspapers published during and after the massacre. We have found necessary and relevant information
                    in several national and local dailies confirming 748 victims who suffered fatal injuries from July
                    16th to August 5th and consequently died.</p>
                <p>We have collected information about the victims whose family members could not be reached from at
                    least two news reports. We also spoke with the protest mobilisers and witnesses from different areas
                    to confirm the details of the clashes that led to their deaths.</p>
                <p>Among these victims, 705 lost their lives due to the excesses of the security forces and members of
                    the Awami League.</p>
                <p>The rest of the victims (748-703=45) whose information was verified but not included in the analysis,
                    died due to various reasons after Sheikh Hasina fled. The majority of them (44) were burnt in houses
                    or hotels owned by Awami League leaders, and at least one of them was electrocuted.</p>
                <p>Regarding the remaining victims — 86 in total — Netra News was unable to gather sufficient
                    information for analysis. This was primarily because their deaths were not adequately reported in
                    major newspapers, and family members did not respond to our repeated calls. Additionally, in some of
                    the cases, the surrounding circumstances of their deaths did not meet the criteria for being
                    classified as massacre victims, or “martyrs.”</p>
                <p>For example, we have found the names of police officials in the list as well, who were killed,
                    according to their families and news reports, by protesters. We have found at least one victim in
                    the list who was mistaken as Awami League and was killed by protesters, despite joining the
                    protests.</p>
                <p>Through news articles and interviews, we identified that six individuals on the list died of natural
                    causes. Two others passed away due to injuries sustained on August 6th; one of them was killed while
                    attempting to escape from prison.</p>
                <p>Furthermore, four individuals listed were police officials.</p>
                <blockquote>On July 1st, 2025, the interim government added 10 more names to the list of 834 martyrs.
                    However, Netra News was unable to reach the families after repeated calls.</blockquote>
            


            <div class="method">
                <h2>Methodology and Notes</h2>


                <p>To comply with the official definition of martyrs, according to the July
                    Mass Uprising Martyrs’ Families and Injured Students Citizens Welfare and
                    Rehabilitation Ordinance, 2025 , issued on June 17th, 2025, in this analysis,
                    we have considered only the victims who lost their lives in state backed
                    excesses by security forces and Awami League men. However, the list released
                    by the government does not fully comply with its own ‘martyr’ criteria. </p>

                <p>Netra News collected the list of victims from the gazette that mentioned 834
                    names, and reached out to the families to collect the location where the
                    victims were injured, the cause of their deaths, the alleged perpetrators,
                    their age and political affiliation. We verified the information from at
                    least two news articles published in national and, in some cases, local
                    newspapers. </p>

                <p>On July 1st, 2025, the interim government added 10 more names to the list of 834 martyrs. However,
                    Netra News was unable to reach the families after repeated calls.</p>
            </div>

            <div class="credit">
            <p>Reporting, data analysis, and web development by Nazmul Ahasan, who has
                tackled the project as a Master of Journalism student at UC Berkeley Graduate
                School of Journalism; research by Nazmul Ahasan, Jahidur Rahman, Miraj Ahmed,
                Toriqur Rahman, Tahmidul Islam and Mohammad Ali, data visualization by Nazmul
                Ahasan, Peter Aldhous and Kamal Hosein, graphic design and illustration by
                Netra News, web design by Nazmul Ahasan and Netra News.Web design and
                visualization editing by Soo Oh, lecturer at UC Berkeley Graduate School of
                Journalism and Data Editor at The Markup, Yoli Martinez, lecturer at UC
                Berkeley and Visual Storytelling Engineer at The Washington Post, and Peter
                Aldhous, former lecturer of data journalism at UC Berkeley.</p>
        </div>


        </div>
        </article>
    </main>

    <footer>
        
XXXX

    </footer>




    <script>
const rowsPerPage = 7;
let currentPage = 1;
let fullData = [];

document.addEventListener('DOMContentLoaded', function () {
  const tableBody = document.getElementById('victim-table-body');
  const searchInput = document.getElementById('search');
  const searchBtn = document.getElementById('search-btn');
  const filterDistrict = document.getElementById('filter-district');
  const filterPerp = document.getElementById('filter-perpetrator');
  const filterRegion = document.getElementById('filter-region');

  async function loadData() {
    const res = await fetch('july-massacre-confirmed-list.json');
    const data = await res.json();
    fullData = data;

    populateFilterOptions(data);
    applyFiltersAndRender();

    // Event listeners
    searchBtn.addEventListener('click', applyFiltersAndRender);
    searchInput.addEventListener('keypress', e => {
      if (e.key === 'Enter') applyFiltersAndRender();
    });
    filterDistrict.addEventListener('change', applyFiltersAndRender);
    filterPerp.addEventListener('change', applyFiltersAndRender);
    filterRegion.addEventListener('change', applyFiltersAndRender);
  }

  function populateFilterOptions(data) {
    const districts = new Set();
    const perpetrators = new Set();
    const regions = new Set();

    let hasRegion = false;

data.forEach(entry => {
  if (entry.District) districts.add(entry.District);
  if (entry.AllegedPerpetrator) perpetrators.add(entry.AllegedPerpetrator);
  if (entry.Region && entry.Region.trim() !== '') {
    regions.add(entry.Region);
    hasRegion = true;
  }
});

if (!hasRegion) {
  document.getElementById('filter-region').parentElement.style.display = 'none';
}


    fillSelect(filterDistrict, districts);
    fillSelect(filterPerp, perpetrators);
    fillSelect(filterRegion, regions);
  }

  function fillSelect(select, values) {
    [...values].sort().forEach(value => {
      const option = document.createElement('option');
      option.value = value;
      option.textContent = value;
      select.appendChild(option);
    });
  }

  function applyFiltersAndRender() {
    const query = searchInput.value.toLowerCase();
    const selectedDistrict = filterDistrict.value;
    const selectedPerp = filterPerp.value;
    const selectedRegion = filterRegion.value;

    const filtered = fullData.filter(entry => {
      const matchesSearch =
        entry.Victim.toLowerCase().includes(query) ||
        entry.District.toLowerCase().includes(query) ||
        entry.AllegedPerpetrator.toLowerCase().includes(query);

      const matchesDistrict = !selectedDistrict || entry.District === selectedDistrict;
      const matchesPerp = !selectedPerp || entry.AllegedPerpetrator === selectedPerp;
      const matchesRegion = !selectedRegion || entry.Region === selectedRegion;

      return matchesSearch && matchesDistrict && matchesPerp && matchesRegion;
    });

    renderPaginatedRows(filtered, 1);
  }

  function renderPaginatedRows(data, page) {
    currentPage = page;
    const start = (page - 1) * rowsPerPage;
    const end = start + rowsPerPage;
    const sliced = data.slice(start, end);

    tableBody.innerHTML = '';
    sliced.forEach(entry => {

        const row = `
  <tr>
    <td>${String(entry.MedicalCaseID).padStart(3, '0')}</td>
    <td class="victim">${entry.Victim}</td>
    <td>${entry.District}</td>
    <td>${entry.AllegedPerpetrator}</td>
  </tr>
`;
      tableBody.insertAdjacentHTML('beforeend', row);
    });

    renderPagination(data.length);
  }

  function renderPagination(totalRows) {
  const pagination = document.querySelector('.pagination');
  const totalPages = Math.ceil(totalRows / rowsPerPage);
  pagination.innerHTML = '';

  if (totalPages <= 1) return;

  const makePageButton = (page, label = null) => {
    const span = document.createElement('span');
    span.textContent = label || page;
    if (page === currentPage) span.style.fontWeight = 'bold';
    span.style.cursor = 'pointer';
    span.onclick = () => applyFiltersAndRenderWithPage(page);
    return span;
  };

  const maxPagesToShow = 6;
  let startPage = Math.max(1, currentPage - Math.floor(maxPagesToShow / 2));
  let endPage = startPage + maxPagesToShow - 1;

  if (endPage > totalPages) {
    endPage = totalPages;
    startPage = Math.max(1, endPage - maxPagesToShow + 1);
  }

  if (currentPage > 1) {
    pagination.append(makePageButton(currentPage - 1, '<'));
  }

  if (startPage > 1) {
    pagination.append(makePageButton(1));
    if (startPage > 2) {
      const ellipsis = document.createElement('span');
      ellipsis.textContent = '…';
      pagination.append(ellipsis);
    }
  }

  for (let i = startPage; i <= endPage; i++) {
    pagination.append(makePageButton(i));
  }

  if (endPage < totalPages) {
    if (endPage < totalPages - 1) {
      const ellipsis = document.createElement('span');
      ellipsis.textContent = '…';
      pagination.append(ellipsis);
    }
    pagination.append(makePageButton(totalPages));
  }

  if (currentPage < totalPages) {
    pagination.append(makePageButton(currentPage + 1, '>'));
  }
}


  function applyFiltersAndRenderWithPage(page) {
    const query = searchInput.value.toLowerCase();
    const selectedDistrict = filterDistrict.value;
    const selectedPerp = filterPerp.value;
    const selectedRegion = filterRegion.value;

    const filtered = fullData.filter(entry => {
      const matchesSearch =
        entry.Victim.toLowerCase().includes(query) ||
        entry.District.toLowerCase().includes(query) ||
        entry.AllegedPerpetrator.toLowerCase().includes(query);

      const matchesDistrict = !selectedDistrict || entry.District === selectedDistrict;
      const matchesPerp = !selectedPerp || entry.AllegedPerpetrator === selectedPerp;
      const matchesRegion = !selectedRegion || entry.Region === selectedRegion;

      return matchesSearch && matchesDistrict && matchesPerp && matchesRegion;
    });

    renderPaginatedRows(filtered, page);
  }

  loadData();
});
</script>

<script>
const ctx = document.getElementById('deathTollChart').getContext('2d');

new Chart(ctx, {
  type: 'line',
  data: {
    labels: [
      'Jul 16', 'Jul 17', 'Jul 18', 'Jul 19', 'Jul 20', 'Jul 21',
      'Jul 22', 'Jul 23', 'Jul 24', 'Jul 25', 'Jul 26', 'Jul 27',
      'Jul 28', 'Jul 29', 'Jul 30', 'Jul 31', 'Aug 1', 'Aug 2',
      'Aug 3', 'Aug 4', 'Aug 5'
    ],
    datasets: [{
      label: 'Daily Deaths',
      data: [5, 4, 65, 160, 65, 20, 8, 5, 3, 3, 5, 7, 4, 4, 4, 4, 7, 8, 6, 78, 240],
      borderColor: '#cc0000',
      borderWidth: 3,
      pointBackgroundColor: '#cc0000',
      pointRadius: 4,
      pointHoverRadius: 6,
      fill: false,
      tension: 0.0
    }]
  },
options: {
  responsive: true,
  maintainAspectRatio: false,
  layout: {
    padding: {
      bottom: 10 // tighten bottom space
    }
  },
  scales: {
    x: {
      grid: {
        color: '#eee',
        lineWidth: 0.5,
        drawBorder: false,
        borderDash: [4, 4] // dashed vertical grid lines
      },
      ticks: {
        font: {
          family: "'ibm-plex-mono', monospace",
          size: 12
        },
        padding: 10,
        callback: function(value, index, ticks) {
          return this.getLabelForValue(value);
        }
      }
    },
    y: {
      beginAtZero: true,
      grid: {
        color: '#eee',
        lineWidth: 0.5,
        borderDash: [4, 4] // dashed horizontal grid lines
      },
      ticks: {
        font: {
          family: "'ibm-plex-mono', monospace",
          size: 12
        }
      }
    }
  },
  plugins: {
    legend: { display: false },
    tooltip: {
      callbacks: {
        label: context => `Deaths: ${context.parsed.y}`
      }
    }
  }
}
,
  plugins: [{
    id: 'customDecoration',
    beforeDraw: chart => {
      const { ctx, chartArea, scales } = chart;
      const xScale = scales.x;
      const yBottom = chartArea.bottom;
      const tickLabels = chart.data.labels;
      const highlightLabel = 'Jul 17';

      // Draw vertical lines for specific dates
      const labelToColor = {
        'Jul 17': '#000',
        'Jul 18': '#ffbb33',
        'Jul 19': '#cc0000',
        'Jul 20': '#3399ff'
      };

      tickLabels.forEach((label, i) => {
        const x = xScale.getPixelForTick(i);
        if (labelToColor[label]) {
          ctx.save();
          ctx.beginPath();
          ctx.strokeStyle = labelToColor[label];
          ctx.lineWidth = 1.5;
          ctx.moveTo(x, chartArea.top);
          ctx.lineTo(x, chartArea.bottom);
          ctx.stroke();
          ctx.restore();
        }
      });

      // Draw bottom gray bar
      ctx.save();
      ctx.fillStyle = '#e0e0e0';
      ctx.fillRect(chartArea.left, yBottom + 15, chartArea.width, 20);
      ctx.restore();

      // Draw dots above each tick + label boxes
      tickLabels.forEach((label, i) => {
        const x = xScale.getPixelForTick(i);

        // dot above tick
        ctx.beginPath();
        ctx.arc(x, yBottom + 10, 3, 0, 2 * Math.PI);
        ctx.fillStyle = '#888';
        ctx.fill();

        
      });
    }
  }]
});
</script>


</body>

</html>